
<%= render "interaction_info"%>


<div class="row">
  <div class="col-md-12" id="interactions_index_content"></div>
</div>
<div class="row">
  <div class="col-md-3 center">
    <%= image_tag "preloader/default_trans.png", size:"50x50", class:"formLoader"%>
  </div>
  <div class="col-md-9" id="interactions_index_paginator"></div>
</div>

<script type="text/javascript">



  var dataTablesProp = {
      retrieve: true,
      "bAutoWidth": false,
      stateSave: true,
      paging: false,
      ordering: false,
      searching: false,
      info: false,
      "pageLength": 10,
      "order": [],
      "columnDefs": [{
        "targets"  : 'no-sort',
        "orderable": false,
        },
        {"targets"    : [ 1,2,5,6 ],
         "visible"    : false},
         {"width": "2%", "targets": [9]},
        {"width": "3%", "targets": [1,3,5,7]}],
      "drawCallback": function(){

          $('[data-toggle="ajax-popover"]').popover({
            container: 'body',
            placement : 'top',
              trigger : 'click',
              html : true,
          });
          $('[data-toggle="ajax-tooltip"]').tooltip({
              placement : 'right',
              trigger : 'hover',
              html : true,
          });
          $('[data-toggle="tooltip"]').tooltip({
              placement : 'left',
              trigger : 'hover',
              html : true,
          });
          $('[data-toggle="left-tooltip"]').tooltip({
              placement : 'left',
              trigger : 'hover',
              html : true,
          });

        }
      }

    var dataTables = {
      "molecules":NaN
    }




    $(document).on('ready turbolinks:load', function(){
    var $loading = $('.formLoader').hide();
    $(document)
      .ajaxStart(function () {
        $loading.show();
      })
      .ajaxComplete(function () {
        $loading.hide();
        dataTables.molecules = $('#int-index-molecules').DataTable(dataTablesProp);
        $('.kaminari-paginate-button').on("click", function (){
          hidePopovers();
        });
      });
     });

$(document).on('ready turbolinks:load', function(){
  //$("#content").html("Gguten Tag")
  $("#interactions_index_content").html("<%= escape_javascript(render 'ransack_table', interactions:@interactions, table_id:"molecules") %>")
  $('#interactions_index_paginator').html('<%= escape_javascript(paginate(@interactions, btncolor:"primary", :remote => true).to_s) %>');
  dataTables.molecules = $('#int-index-molecules').DataTable(dataTablesProp);
  $('.kaminari-paginate-button').on("click", function (){
    hidePopovers();
  });
});


$(document).on('ready turbolinks:load', function() {
  var explainPopupShown = localStorage.getItem('explainPopupShown');

  if (explainPopupShown === null) {
  $('#explainPopup').popover({
      container: 'body',
      placement : 'top',
      trigger : 'click',
      html : true,
  }).popover('show');
  localStorage.setItem('explainPopupShown', 1);
} else {
  $('#explainPopup').popover({
      container: 'body',
      placement : 'top',
      trigger : 'click',
      html : true,
  });
};


});

</script>
