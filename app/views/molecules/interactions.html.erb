<h1>Interactions of <%=link_to @molecule.display_name, molecule_path(@molecule) %></h1>
<hr>
<% if @interactions.present? %>
  <div class="panel panel-primary user-interactions-panel">
    <div class="panel-heading collapsed" data-toggle="collapse" data-target="#collapse_molecule">
      <h3 class="panel-title"><i class="fas fa-arrow-alt-circle-down fa-lg fa-deactived"></i> Interactions as Host or Guest <span class="badge"><%= @interactions.count %></span></h3>
    </div>
    <div id="collapse_molecule" class="panel-collapse collapse">
      <div class="panel-body">
        <%= render "users/interactions/table", interactions:@interactions, table_id:'molecules' %>
      </div>
    </div>
  </div>
<% end %>
<% if @indicator_interactions.present? %>
  <div class="panel panel-orange user-interactions-panel">
    <div class="panel-heading collapsed" data-toggle="collapse" data-target="#collapse_indicator">
      <h3 class="panel-title"><i class="fas fa-arrow-alt-circle-down fa-lg fa-deactived"></i> Interactions as Indicator <span class="badge"><%= @indicator_interactions.count %></span></h3>
    </div>
    <div id="collapse_indicator" class="panel-collapse collapse">
      <div class="panel-body">
        <%= render "users/interactions/table", interactions:@indicator_interactions, table_id:'indicators' %>
      </div>
    </div>
  </div>
<% end %>
<% if @conjugate_interactions.present? %>
  <div class="panel panel-info user-interactions-panel">
    <div class="panel-heading collapsed" data-toggle="collapse" data-target="#collapse_cofactor">
      <h3 class="panel-title"><i class="fas fa-arrow-alt-circle-down fa-lg fa-deactived"></i> Interactions as Cofactor <span class="badge"><%= @conjugate_interactions.count %></span></h3>
    </div>
    <div id="collapse_cofactor" class="panel-collapse collapse">
      <div class="panel-body">
        <%= render "users/interactions/table", interactions:@conjugate_interactions, table_id:'cofactors' %>
      </div>
    </div>
  </div>
<% end %>
<script>
  $(document).on('turbolinks:load',function(){
    $('.panel-heading').click(function(){
      $(this).find('.fas').toggleClass('fa-arrow-alt-circle-down fa-arrow-alt-circle-left fa-actived fa-deactived');
    });
  });
  
  
  var dataTablesProp = {
     "bAutoWidth": false,
     "bDestroy": true,
     stateSave: true,
     searching: true,
     paging: true,
     info: true,
     "order": [],
     "columnDefs": [
       {"targets"    : 'no-sort',
    "orderable"  : false},
       {"targets"    : [ 3,4,7,8 ],
    "visible"    : false},
    {"width": "2%", "targets": [9]},
       {"width": "3%", "targets": [1,3,5,7]} ],
     "drawCallback": function(){
  
       $('[data-toggle="popover"]').popover({
       container: 'body',
       placement : 'top',
       trigger : 'click',
       html : true,
       });
  
       $('[data-toggle="ajax-popover"]').popover({
       container: 'body',
       placement : 'top',
       trigger : 'click',
       html : true,
       });
  
       $('[data-toggle="top-popover"]').popover({
       container: 'body',
       placement : 'top',
       trigger : 'click',
       html : true,
       });
       $('[data-toggle="ajax-tooltip"]').tooltip({
       placement : 'right',
       trigger : 'hover',
       html : true,
       });
       $('[data-toggle="tooltip"]').tooltip({
       placement : 'left',
       trigger : 'hover',
       html : true,
       });
       $('[data-toggle="left-tooltip"]').tooltip({
       placement : 'left',
       trigger : 'hover',
       html : true,
       });
     }
    }
  
    var dataTables = {
      "molecules":NaN,
      "indicators":NaN,
      "cofactors":NaN
    }
  
     $(document).on('turbolinks:load',function(){
    dataTables.molecules = $('#int-index-molecules').DataTable(dataTablesProp);
    dataTables.indicators = $('#int-index-indicators').DataTable(dataTablesProp);
    dataTables.cofactors = $('#int-index-cofactors').DataTable(dataTablesProp);
    $('.dataTables_filter').addClass('pull-right')
    });
</script>
